(this["webpackJsonppseudo-interpreter"]=this["webpackJsonppseudo-interpreter"]||[]).push([[0],{104:function(e,t,a){},248:function(e,t,a){"use strict";a.r(t);var r=a(0),s=a.n(r),n=a(34),i=a.n(n);a(104);var c=function(){return s.a.createElement("header",null,s.a.createElement("div",{className:"container p-3 d-flex align-items-end justify-content-between"},s.a.createElement("div",{className:"d-flex align-items-end"},s.a.createElement("h1",{className:"text-white m-2 h4"},"Psuedo Assembler"),s.a.createElement("h6",{className:"text-white font-weight-light"},"by Maciej \u0141ukasik")),s.a.createElement("div",{className:"d-flex align-items-center"},s.a.createElement("img",{className:"header-icon spin",src:"/img/logo192.png"}),s.a.createElement("h6",{className:"text-white font-weight-light mx-2 my-0"},"React"),s.a.createElement("img",{className:"header-icon spin",src:"/img/redux.png"}),s.a.createElement("h6",{className:"text-white font-weight-light mx-2 my-0"},"Redux"))))},l=a(3),o=function(e){return{type:"UPDATE_REGISTERS",registers:e}},u=function(e){return{type:"UPDATE_MEMORY",memory:e}},m=function(e){return{type:"UPDATE_STATE",stateRegister:e}},h=a(2),g=a(6),d=a(13),p=a(11),v=a(20),f=a(12);var b=function(e){return s.a.createElement("div",null,s.a.createElement("div",{className:"my-2 mx-auto d-flex"},s.a.createElement("button",{onClick:function(){e.execute("START")},className:"btn btn-sm btn-outline-success m-1"},s.a.createElement("i",{className:"fas fa-play"})," Uruchom"),s.a.createElement("button",{onClick:function(){e.execute("RESET")},className:"btn btn-sm btn-outline-danger m-1"},"Reset")))},y=function(){function e(t,a,r){Object(h.a)(this,e),this.adress=t,this.value=a,this.size=r}return Object(g.a)(e,[{key:"getDec",value:function(){return this.value.toString(10)}},{key:"getBin",value:function(){return this.value.toString(2)}},{key:"getHex",value:function(){return this.value.toString(16)}}]),e}(),E=function(e){function t(e,a,r){return Object(h.a)(this,t),Object(d.a)(this,Object(p.a)(t).call(this,e,a,r))}return Object(f.a)(t,e),Object(g.a)(t,null,[{key:"findRegisterByAdress",value:function(e){var a=null;return t.registers.forEach((function(t){t.adress==e&&(a=t)})),a}}]),t}(y);E.registers=[];var k=a(54),R=a(4),w=function(e){function t(e,a,r){return Object(h.a)(this,t),Object(d.a)(this,Object(p.a)(t).call(this,e,a,r))}return Object(f.a)(t,e),Object(g.a)(t,null,[{key:"findCellsByAdress",value:function(e){var a=null;return t.cells.forEach((function(t){t.adress==e&&(a=t)})),a}}]),t}(y);w.cells=[];var O=function e(t,a,r){Object(h.a)(this,e),this.type=t,this.msg=a,this.line=r},j=function e(t,a){Object(h.a)(this,e),this.command=t;for(var r=arguments.length,s=new Array(r>2?r-2:0),n=2;n<r;n++)s[n-2]=arguments[n];this.args=s,this.tag=a},N=function(){function e(t){Object(h.a)(this,e),this.ordersList=[],this.errorHandler=t,this.stateRegister=new E("STATE",0,2)}return Object(g.a)(e,[{key:"clearConfiguration",value:function(){this.ordersList=[],E.registers=[];for(var e=0;e<16;e++){var t=new E(e,0,32);E.registers.push(t)}w.cells=[]}},{key:"loadScript",value:function(e){var t=this;this.clearConfiguration();try{e.split("\n").map((function(e){return e.trim()})).forEach((function(e,a){if(""!=e){var r,s=e.split(" ").map((function(e){return e.trim()})).filter((function(e){return""!=e}));if(3==s.length)r=Object(k.a)(j,[s[1],s[0]].concat(Object(R.a)(s[2].split(",").map((function(e){return e.trim()})).filter((function(e){return""!=e})))));else if(2==s.length)r=Object(k.a)(j,[s[0],""].concat(Object(R.a)(s[1].split(",").map((function(e){return e.trim()})).filter((function(e){return""!=e})))));else{if(1!=s.length)return void t.errorHandler(new O("B\u0142\u0105d sk\u0142adni","Polecenie zawiera zbyt du\u017co znak\xf3w spacji.",a));r=new j("",s[0])}t.ordersList.push(r)}}))}catch(a){return void this.errorHandler(new O("B\u0142\u0105d sk\u0142adni","Wyst\u0105pi\u0142 nieznany b\u0142\u0105d.",0))}}},{key:"executeLine",value:function(e,t){switch(e.command){case"DC":var a=e.args[0].trim().slice(0,-1).split("(").map((function(e){return e.trim()}));if(2!=a.length)return void this.errorHandler(new O("B\u0142\u0105d wykonawczy","Niepoprawna sk\u0142adnia polecania DC.",t));var r=a[1];if(r=Number(r),isNaN(r))return void this.errorHandler(new O("B\u0142\u0105d wykonawczy","Warto\u015b\u0107 musi by\u0107 liczb\u0105.",t));var s=new w(e.tag,r,32);w.cells.push(s);break;case"DS":e.args[0].trim();var n=new w(e.tag,0,32);w.cells.push(n);break;case"J":var i=this.getTagPosition(e.args[0]);if(-1!=i)return i;break;case"JP":var c=this.getTagPosition(e.args[0]);if(1==this.stateRegister.value&&-1!=c)return c;break;case"JN":var l=this.getTagPosition(e.args[0]);if(2==this.stateRegister.value&&-1!=l)return l;break;case"JZ":var o=this.getTagPosition(e.args[0]);if(0==this.stateRegister.value&&-1!=o)return o;break;case"L":this.transferData("C:"+e.args[1],"R:"+e.args[0],t);break;case"LR":this.transferData("R:"+e.args[1],"R:"+e.args[0],t);break;case"ST":this.transferData("R:"+e.args[0],"C:"+e.args[1],t);break;case"A":this.mathOperation.apply(this,["A","C",t].concat(Object(R.a)(e.args)));break;case"AR":this.mathOperation.apply(this,["A","R",t].concat(Object(R.a)(e.args)));break;case"S":this.mathOperation.apply(this,["S","C",t].concat(Object(R.a)(e.args)));break;case"SR":this.mathOperation.apply(this,["S","R",t].concat(Object(R.a)(e.args)));break;case"M":this.mathOperation.apply(this,["M","C",t].concat(Object(R.a)(e.args)));break;case"MR":this.mathOperation.apply(this,["M","R",t].concat(Object(R.a)(e.args)));break;case"D":this.mathOperation.apply(this,["D","C",t].concat(Object(R.a)(e.args)));break;case"DR":this.mathOperation.apply(this,["D","R",t].concat(Object(R.a)(e.args)));break;case"C":this.mathOperation.apply(this,["C","C",t].concat(Object(R.a)(e.args)));break;case"CR":this.mathOperation.apply(this,["C","R",t].concat(Object(R.a)(e.args)))}return t}},{key:"getTagPosition",value:function(e){var t=-1;return this.ordersList.forEach((function(a,r){a.tag.trim()==e.trim()&&(t=r)})),t}},{key:"transferData",value:function(e,t,a){e=e.split(":"),t=t.split(":");var r,s,n="C"==e[0],i="C"==t[0];r=n?w.findCellsByAdress(e[1]):E.findRegisterByAdress(e[1]),null!=(s=i?w.findCellsByAdress(t[1]):E.findRegisterByAdress(t[1]))&&null!=r?(s.value=r.value,s.value>=Math.pow(2,s.size-1)&&(this.stateRegister.value=3,s.value=Math.pow(2,s.size-1)-1),s.value<=-Math.pow(2,s.size-1)&&(this.stateRegister.value=3,s.value=1-Math.pow(2,s.size-1))):this.errorHandler(new O("B\u0142\u0105d wykonawczy","Nie mo\u017cna odnale\u015b\u0107 rejestru lub pami\u0119ci.",a))}},{key:"mathOperation",value:function(e,t,a){var r=arguments.length<=3?void 0:arguments[3],s=arguments.length<=4?void 0:arguments[4];if(isNaN(r))this.errorHandler(new O("B\u0142\u0105d wykonawczy","Niepoprawny adres rejestru.",a));else{var n,i=E.findRegisterByAdress(r);if(n="C"==t?w.findCellsByAdress(s):E.findRegisterByAdress(s),null!=i&&null!=n){var c=i.value;switch(e){case"A":i.value=Number(i.value)+Number(n.value);break;case"S":i.value=Number(i.value)-Number(n.value);break;case"M":i.value=Number(i.value)*Number(n.value);break;case"D":i.value=Number(i.value)/Number(n.value);break;case"C":i.value=Number(i.value)-Number(n.value)}switch(Math.sign(i.value)){case-1:this.stateRegister.value=2;break;case 1:this.stateRegister.value=1;break;case 0:this.stateRegister.value=0}"C"==e&&(i.value=c),i.value>=Math.pow(2,i.size-1)&&(this.stateRegister.value=3,i.value=Math.pow(2,i.size-1)-1),i.value<=-Math.pow(2,i.size-1)&&(this.stateRegister.value=3,i.value=1-Math.pow(2,i.size-1))}else this.errorHandler(new O("B\u0142\u0105d wykonawczy","Nie mo\u017cna odnale\u015b\u0107 rejestru lub pami\u0119ci.",a))}}},{key:"execute",value:function(){this.stateRegister=new E("STATE",0,2);for(var e=0;e<this.ordersList.length;e++)e=this.executeLine(this.ordersList[e],e)}}]),e}(),C=a(21);var T=function(e){var t=Object(r.useState)("collapse-toggled"),a=Object(C.a)(t,2),n=a[0],i=a[1];return s.a.createElement("div",null,s.a.createElement("div",{className:"collapse-label p-1 m-1 px-3",onClick:function(){return i("collapse-toggled"==n?"":"collapse-toggled")}},e.storageType," ",e.storage.adress," ",s.a.createElement("span",{className:"text-muted"},e.storage.getDec())),s.a.createElement("div",{className:n},s.a.createElement("h6",{className:"pl-4"},"Dec: ",e.storage.getDec()),s.a.createElement("h6",{className:"pl-4"},"Bin: ",e.storage.getBin()),s.a.createElement("h6",{className:"pl-4"},"Hex: ",e.storage.getHex())))};var x={memoryUpdated:u,registersUpdated:o},A=Object(l.b)((function(e){return{memory:e.memory,registers:e.registers}}),x)((function(e){console.log(e.memory);var t=e.memory.map((function(e){return s.a.createElement(T,{key:e.adress,storageType:"Kom\xf3rka",storage:e})}));0==t.length&&(t=s.a.createElement("p",{className:"text-muted"},"Brak kom\xf3rek do wy\u015bwietlenia"));var a=Object(r.useState)("collapse-toggled"),n=Object(C.a)(a,2),i=n[0],c=n[1];return s.a.createElement("div",{className:"my-2"},s.a.createElement("h6",{onClick:function(){return c("collapse-toggled"==i?"":"collapse-toggled")},className:"toggle-main-label"},"Podgl\u0105d pami\u0119ci"),s.a.createElement("div",{className:i},s.a.createElement("hr",null),s.a.createElement("div",{className:"py-2"},t),s.a.createElement("hr",null)))}));a(111);var S={stateRegisterUpdated:m},U=Object(l.b)((function(e){return{stateRegister:e.stateRegister}}),S)((function(e){console.log(e);var t="Z";return 1==e.stateRegister.value?t="P":2==e.stateRegister.value&&(t="N"),s.a.createElement("div",{className:"my-2"},s.a.createElement("h6",null,"Rejestr stanu"),s.a.createElement("h6",{className:"font-weight-bold text-muted"},e.stateRegister.getBin()," ",t))}));var M={memoryUpdated:u,registersUpdated:o},D=Object(l.b)((function(e){return{memory:e.memory,registers:e.registers}}),M)((function(e){var t=e.registers.map((function(e){return s.a.createElement(T,{key:e.adress,storageType:"Rejestr",storage:e})})),a=Object(r.useState)("collapse-toggled"),n=Object(C.a)(a,2),i=n[0],c=n[1];return s.a.createElement("div",null,s.a.createElement("h6",{onClick:function(){return c("collapse-toggled"==i?"":"collapse-toggled")},className:"toggle-main-label"},"Podgl\u0105d rejestr\xf3w"),s.a.createElement("div",{className:i},s.a.createElement("hr",null),t,s.a.createElement("hr",null)))})),B=a(98),P=a.n(B),z=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).editor=s.a.createRef(),a.handleChange=a.handleChange.bind(Object(v.a)(a)),a.state={html:"Wpisz sw\xf3j kod..."},a}return Object(f.a)(t,e),Object(g.a)(t,[{key:"handleChange",value:function(e){console.log(this.extractContent(e.target.value)),this.props.scriptUpdated(this.extractContent(e.target.innerHTML)),this.setState({html:e.target.value})}},{key:"extractContent",value:function(e){e=String(e).split("<div>").join("\n<div>");var t=document.createElement("span");return t.innerHTML=e,t.textContent||t.innerText}},{key:"render",value:function(){for(var e=[],t=this.editor.current?this.editor.current.offsetHeight:600,a=1;a<t*(25/600);a++)e.push(s.a.createElement("span",{key:a},a,s.a.createElement("br",null)));return s.a.createElement("div",{className:"p-2"},s.a.createElement("div",{className:"main-editor"},s.a.createElement("div",{className:"row-counter"},e),s.a.createElement(P.a,{innerRef:this.editor,html:this.state.html,disabled:!1,onChange:this.handleChange,className:"editor-textfield"})))}}]),t}(r.Component),H={memoryUpdated:u,registersUpdated:o,scriptUpdated:function(e){return{type:"UPDATE_SCRIPT",script:e}}},L=Object(l.b)((function(e){return{memory:e.memory,registers:e.registers,script:e.script}}),H)(z),_=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).executeControl=a.executeControl.bind(Object(v.a)(a)),a.interpreter=new N((function(e){return console.log(e)})),a.interpreter.clearConfiguration(),a.props.registersUpdated(E.registers),a.props.memoryUpdated(w.cells),a.props.stateRegisterUpdated(a.interpreter.stateRegister),a}return Object(f.a)(t,e),Object(g.a)(t,[{key:"executeControl",value:function(e){switch(e){case"START":this.interpreter.clearConfiguration(),this.interpreter.loadScript(this.props.script),this.interpreter.execute(),this.props.registersUpdated(E.registers),this.props.memoryUpdated(w.cells),this.props.stateRegisterUpdated(this.interpreter.stateRegister);break;case"NEXT":break;case"RESET":this.interpreter.clearConfiguration(),this.props.registersUpdated(E.registers),this.props.memoryUpdated(w.cells),this.props.stateRegisterUpdated(this.interpreter.stateRegister)}}},{key:"render",value:function(){return s.a.createElement("main",null,s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-12 col-md-5 col-lg-4 p-2"},s.a.createElement("div",{className:"workspace"},s.a.createElement(b,{execute:this.executeControl}),s.a.createElement(A,null),s.a.createElement(U,null),s.a.createElement(D,null))),s.a.createElement("div",{className:"col-12 col-md-7 col-lg-8 p-2"},s.a.createElement("div",{className:"workspace"},s.a.createElement(L,null))))))}}]),t}(r.Component),J={memoryUpdated:u,registersUpdated:o,stateRegisterUpdated:m,memoryClear:function(e){return{type:"CLEAR_MEMORY",memory:e}}},I=Object(l.b)((function(e){return{memory:e.memory,registers:e.registers,stateRegister:e.stateRegister,script:e.script}}),J)(_);var W=function(){return s.a.createElement("div",{className:"App"},s.a.createElement(c,null),s.a.createElement(I,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Y=a(19),G=Object(Y.b)({memory:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_MEMORY":return t.memory;case"CLEAR_MEMORY":return[];default:return e}},registers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_REGISTERS":return t.registers;default:return e}},script:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_SCRIPT":return t.script;default:return e}},stateRegister:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_STATE":return t.stateRegister;default:return e}}}),Z=Object(Y.c)(G);i.a.render(s.a.createElement(l.a,{store:Z},s.a.createElement(W,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},99:function(e,t,a){e.exports=a(248)}},[[99,1,2]]]);
//# sourceMappingURL=main.3f639573.chunk.js.map